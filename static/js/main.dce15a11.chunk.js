(this["webpackJsonpProjetao-2-Linker"]=this["webpackJsonpProjetao-2-Linker"]||[]).push([[0],{95:function(n,e,t){"use strict";t.r(e);var a=t(2),o=t(1),r=t(18),i=t.n(r),c=t(3),s=t(10),u=Object(o.createContext)(),d=Object(o.createContext)(),l=t(99),p=t(98),b=t(9),j=t(6),h=t(7);function x(){var n=Object(j.a)(["\n    .fade-enter {\n        opacity: 0.01;\n    }\n\n    .fade-enter.fade-enter-active {\n        opacity: 1;\n        transition: opacity 300ms ease-in;\n    }\n\n    .fade-exit {\n        opacity: 1;\n    }\n\n    .fade-exit.fade-exit-active {\n        opacity: 0.01;\n        transition: opacity 10ms ease-in;\n    }\n\n    div.transition-group {\n        position: relative;\n    }\n\n    section.route-section {\n        position: absolute;\n        width: 100%;\n        top: 0;\n        left: 0;\n    }\n"]);return x=function(){return n},n}var f=h.a.div(x()),O=t(21),m=t(5),g=t.n(m);function v(){var n=Object(j.a)(["\n    width: 35vw;\n    height: 100vh;\n    padding: 32vh 5%;\n    text-align: center;\n\n    input, button {\n        width: 90%;\n        border: none;\n        border-radius: 3px;\n        padding: 13px 5px;\n        outline-style: none;\n        margin: 5px 0;\n        font-size: 16px;\n        font-weight: bold;\n    }\n\n    button {\n        background-color: #1877F2;\n        color: #FFF;\n        margin-bottom: 20px;\n    }\n\n    a {\n        text-decoration: underline;\n        color: #FFF;\n        font-size: 14px;\n        display: block;\n    }\n\n    @media (max-width: 600px) {\n        height: 65vw;\n        padding: 10vw 5vw;\n        width: 100vw;\n\n        input, button {\n\n        }\n    }\n"]);return v=function(){return n},n}function k(){var n=Object(j.a)(["\n    padding: 30vh 8vw;\n    width: 75vw;\n    height: 100vh;\n    color: #FFF;\n    background-color: #151515;\n    font-weight: bold;\n    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.5);\n\n    h1 {\n        font-family: 'Passion One', cursive;\n        font-size: 106px;\n    }\n\n    h2 {\n        font-size: 43px;\n    }\n\n    @media (max-width: 600px) {\n        padding: 5vw;\n        width: 100vw;\n        height: 35vh;\n        text-align: center;\n\n        h1 {\n            font-size: 24vw;\n        }\n\n        h2 {\n            font-size: 10vw;\n        }\n    }\n"]);return k=function(){return n},n}function w(){var n=Object(j.a)(["\n    display: flex;\n\n    @media (max-width: 600px) {\n        display: block;\n    }\n"]);return w=function(){return n},n}var y=h.a.div(w()),F=h.a.div(k()),C=h.a.form(v());function S(){var n=Object(o.useState)(""),e=Object(c.a)(n,2),t=e[0],r=e[1],i=Object(o.useState)(""),d=Object(c.a)(i,2),l=d[0],p=d[1],j=Object(o.useState)(!1),h=Object(c.a)(j,2),x=h[0],f=h[1],m=Object(o.useContext)(u),v=m.userInfo,k=m.setUserInfo,w=Object(b.f)();return void 0!==localStorage.data&&w.push("/timeline"),Object(a.jsxs)(y,{children:[Object(a.jsxs)(F,{children:[Object(a.jsx)("h1",{children:"Linkr"}),Object(a.jsx)("h2",{children:"save, share and discover the best links on the web"})]}),Object(a.jsxs)(C,{onSubmit:function(n){if(n.preventDefault(),!x)if(""!==t&&""!==l){f(!0);var e=g.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/sign_in",{email:t,password:l});e.then((function(n){var e=n.data;k(Object(O.a)(Object(O.a)({},v),{},{data:e}));var t=JSON.stringify({data:e});localStorage.data=t,w.push("/timeline")})),e.catch((function(){alert("E-mail ou senha incorretos"),f(!1)}))}else alert("Por favor, preencha todos os campos")},children:[Object(a.jsx)("input",{type:"email",onChange:function(n){return r(n.target.value)},value:t,placeholder:"e-mail"}),Object(a.jsx)("input",{type:"password",onChange:function(n){return p(n.target.value)},value:l,placeholder:"password"}),Object(a.jsx)("button",{type:"submit",children:"Log In"}),Object(a.jsx)(s.b,{to:"/SignUp",children:"First time? Create an account!"})]})]})}function z(){var n=Object(o.useState)(""),e=Object(c.a)(n,2),t=e[0],r=e[1],i=Object(o.useState)(""),d=Object(c.a)(i,2),l=d[0],p=d[1],j=Object(o.useState)(""),h=Object(c.a)(j,2),x=h[0],f=h[1],m=Object(o.useState)(""),v=Object(c.a)(m,2),k=v[0],w=v[1],S=Object(o.useState)(!1),z=Object(c.a)(S,2),I=z[0],P=z[1],E=Object(o.useContext)(u),U=E.userInfo,T=E.setUserInfo,L=Object(b.f)();return void 0!==localStorage.data&&L.push("/timeline"),Object(a.jsxs)(y,{children:[Object(a.jsxs)(F,{children:[Object(a.jsx)("h1",{children:"Linkr"}),Object(a.jsx)("h2",{children:"save, share and discover the best links on the web"})]}),Object(a.jsxs)(C,{onSubmit:function(n){if(n.preventDefault(),!I)if(""!==t&&""!==l&&""!==x&&""!==k){P(!0);var e=g.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/sign_up",{email:t,password:l,username:x,pictureUrl:k});e.then((function(n){var e=n.data;T(Object(O.a)(Object(O.a)({},U),{},{data:e})),L.push("/timeline")})),e.catch((function(){alert("E-mail inserido j\xe1 cadastrado"),P(!1)}))}else alert("Por favor, preencha todos os campos")},children:[Object(a.jsx)("input",{type:"email",onChange:function(n){return r(n.target.value)},value:t,placeholder:"e-mail"}),Object(a.jsx)("input",{type:"password",onChange:function(n){return p(n.target.value)},value:l,placeholder:"password"}),Object(a.jsx)("input",{type:"text",onChange:function(n){return f(n.target.value)},value:x,placeholder:"username"}),Object(a.jsx)("input",{type:"url",onChange:function(n){return w(n.target.value)},value:k,placeholder:"picture url"}),Object(a.jsx)("button",{type:"submit",children:"Log In"}),Object(a.jsx)(s.b,{to:"/Login",children:"Switch back to log in"})]})]})}var I=t(33),P=t(15),E=t(52);function U(){var n=Object(j.a)(["\n    width: 38vw;\n    padding: 40px 10px 0px;\n    border-radius: 5px;\n    font-size: 16px;\n    background-color: #E7E7E7;\n    position: absolute;\n    top: 0px;\n    left: 0;\n    z-index: -1;\n\n    a {\n        display: block;\n        margin-bottom: 20px;\n        z-index: 10;\n    }\n\n    img, p span {\n        display: inline-block;\n        padding: 10px;\n    }\n    \n    p {\n        margin-top: -38px;\n        margin-left: 55px;\n        font-weight: 300;\n    }\n\n    span {\n        margin-top: -48px;\n        color: #828282;\n    }\n"]);return U=function(){return n},n}function T(){var n=Object(j.a)(["\n    position: relative;\n\n    & > svg {\n        color: #adaaaa;\n        cursor: auto;\n        position: fixed;\n        top: 19px;\n        left: 66%;\n    }\n"]);return T=function(){return n},n}function L(){var n=Object(j.a)(["\n    position: fixed;\n    font-family: 'Lato',sans-serif;\n    font-size:17px;\n    background: #171717;\n    right: 0;\n    top: ",";\n    transition: top .5s ease-in-out;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    padding: 17px;\n    color:white;\n    border-radius: 0px 0px 0px 20px;\n    z-index:10;\n\n    a {\n        color:inherit;\n        display:block;\n    }\n\n    a:first-child { \n        margin-bottom: 5px;\n    }\n\n    button {\n        font-family: inherit;\n        font-size: inherit;\n        color: inherit;\n        background: none;\n        border: none;\n        padding: 0;\n        margin-top: 2px;\n        cursor: pointer;\n    }\n"]);return L=function(){return n},n}function D(){var n=Object(j.a)(["\n    position:fixed;\n    top:0;\n    width:100%;\n    display:flex;\n    justify-content:space-between;\n    align-items:center;\n    background:#151515;\n    padding:5px 20px;\n    z-index:100;\n\n    h1 {\n        font-family: 'Passion one', sans-serif;\n        font-weight:bold;\n        color:white;\n        font-size:49px;\n    }\n\n    input {\n        width: 38vw;\n        padding: 10px 20px;\n        border: none;\n        border-radius: 5px;\n        outline-style: none;\n        font-size: 16px;\n    }\n\n    a {\n        color: inherit;\n    }\n\n    .show-menu {\n        display: flex;\n        align-items: center;\n        cursor: pointer;\n    }\n\n    img {\n        width:53px;\n        height:53px;\n        border-radius:50%;\n        cursor: pointer;\n    }\n    \n    svg {\n        color: white;\n        margin-right: 5px;\n        cursor: pointer;\n        font-size: 25px;\n    }\n"]);return D=function(){return n},n}var N=h.a.header(D()),R=h.a.div(L(),(function(n){return n.isDroped?"63px":"-34px"})),M=h.a.div(T()),B=h.a.div(U());function _(n){var e=Object(o.useContext)(u).userInfo.data,t=n.avatar,r=n.id,i=n.username,d=Object(o.useState)(!1),l=Object(c.a)(d,2),p=l[0],j=l[1],h=Object(b.f)(),x=Object(o.useState)(!1),f=Object(c.a)(x,2),O=f[0],m=f[1],v=Object(o.useState)(""),k=Object(c.a)(v,2),w=k[0],y=k[1],F=Object(o.useState)([]),C=Object(c.a)(F,2),S=C[0],z=C[1];return Object(o.useEffect)((function(){w.length<3?z([]):g.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/users/search?username=".concat(w),{headers:{"User-Token":e.token}}).then((function(n){var e=[],t=[];n.data.users.forEach((function(n){n.id===r||(n.isFollowingLoggedUser?e.push(n):t.push(n))})),z([].concat(e,t))}))}),[w]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(N,{children:[Object(a.jsx)("h1",{children:Object(a.jsx)(s.b,{to:"/timeline",children:"linkr"})}),Object(a.jsxs)(M,{children:[Object(a.jsx)(E.DebounceInput,{placeholder:O?"":"Search for people and friends",onFocus:function(){return m(!0)},onBlur:function(){return m(!1),void z([])},minLength:3,debounceTimeout:300,onChange:function(n){return y(n.target.value)}}),O?"":Object(a.jsx)(P.d,{}),Object(a.jsx)(B,{children:S.length?S.map((function(n,e){return n.isFollowingLoggedUser?Object(a.jsxs)(s.b,{to:{pathname:"/UserPosts:".concat(n.id),state:{id:n.id,username:n.username}},children:[Object(a.jsx)("img",{src:n.avatar}),Object(a.jsxs)("p",{children:[n.username," ",Object(a.jsx)("span",{children:"\u2022 following"})]})]},n.id):Object(a.jsxs)(s.b,{to:{pathname:"/UserPosts:".concat(n.id),state:{id:n.id,username:n.username}},children:[Object(a.jsx)("img",{src:n.avatar}),Object(a.jsx)("p",{children:n.username})]},e)})):""})]}),Object(a.jsxs)("div",{onClick:function(){return j(!p)},className:"show-menu",children:[p?Object(a.jsx)(I.b,{}):Object(a.jsx)(I.a,{}),Object(a.jsx)("img",{src:t})]})]}),Object(a.jsxs)(R,{isDroped:p,children:[Object(a.jsx)(s.b,{to:{pathname:"/UserPosts:my-posts",state:{id:r,username:i}},children:"My posts"}),Object(a.jsx)(s.b,{to:{pathname:"/my-likes",state:{id:r}},children:"My likes"}),Object(a.jsx)("button",{onClick:function(){h.push("/"),localStorage.clear()},children:"Logout"})]})]})}function A(){var n=Object(j.a)([" \n    background: #171717;\n    position: fixed;\n    right: 170px;\n    top: 217px;\n    border-radius: 20px;\n    color: white;\n    font-weight: 700;\n    width: 20%;\n    padding: 15px 20px;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n\n    h1 {\n        font-size:27px;  \n        margin-bottom:12px;\n        width:100%;     \n    }\n\n    div {\n        width:calc(100% + 40px);\n        height:1px;\n        background:#484848;\n    }\n\n    ul {\n        margin-top: 15px;\n        width:100%;\n    }\n\n    li {\n        margin-bottom:10px;\n        font-size:19px;\n        font-family: 'Lato' , sans-serif;\n    }\n\n    li::before {\n        content: \"#\";\n    }\n\n    a {\n        color:inherit;\n    }\n\n    @media (max-width: 600px) {\n        display: none;\n    }\n"]);return A=function(){return n},n}function H(){var n=Object(j.a)(["\n    background: #FFF;\n    display:flex;\n    padding: 10px 20px;\n    border-radius: 13px; \n    width: 46vw;\n    margin-bottom:20px;\n\n    h1 {\n        color:#707070;\n        font-weight:300;\n        font-size:20px;\n        margin-bottom:10px;\n    }\n\n    img {\n        width:53px;\n        height:53px;\n        border-radius:50%;\n        margin-right: 15px;\n    }\n\n    input {\n        background: #EFEFEF;\n        font-size:15px;\n        font-family:inherit;\n        font-weight:300;\n        outline:none;\n        border: none;\n        width:100%;\n        margin-bottom:5px;\n        padding: 5px;\n        border-radius: 4px;\n\n    }\n\n    textarea {\n        outline:none;\n        border:none;\n        background: #EFEFEF;\n        width:100%;\n        resize: none;\n        padding: 5px;\n        border-radius: 4px;\n        font-family:inherit;\n        font-size:15px;        \n        font-weight:300;\n    }\n\n    & > div {\n        width:100%;\n    }\n\n    div div {\n        display:flex;\n        justify-content: space-between;\n    }\n\n    div div span {\n        display: flex;\n\n        svg, p {\n            margin-top: 8px;\n            color: #eb4034;\n        }\n\n        .activated {\n            color: #25cc35;\n        }\n    }\n\n    button {\n        font-family: inherit;\n        font-size: 14px;\n        font-weight: 700;\n        border: none;\n        padding: 5px 20px;\n        background: #1877F2;\n        color: white;\n        border-radius: 5px;\n        margin-top: 5px;\n        outline: none;\n        cursor: pointer;\n    }\n\n    @media(max-width: 600px) {\n        width: 100vw;\n        border-radius: 2px;\n        margin-bottom: 0px;\n    }\n"]);return H=function(){return n},n}function q(){var n=Object(j.a)(["\n    padding-top: 100px;\n    padding-left: 17vw;\n    display: flex;\n    font-family: 'Lato',sans-serif;\n    flex-direction: column;\n    align-items: flex-start;\n\n    & > span {\n        color: #FFF;\n        font-weight: bold;\n        font-size: 43px;\n        font-family: 'Oswald' , sans-serif;\n        margin-bottom: 25px;\n        padding: 30px 0 20px 0;\n        width: 86%;\n        display: flex;\n        justify-content: space-between;\n\n        button {\n            border: none;\n            color: #FFF;\n            border-radius: 3px;\n            height: 30px;\n            width: 100px;\n            outline-style: none;\n            font-size: 14px;\n            background-color: #1877F2;\n            margin-top: 20px;\n\n            &.unfollow {\n                background-color: #FFF;\n                color: #1877F2;\n            }\n        }\n    }\n\n    @media(max-width: 600px) {\n        padding-top: 60px;\n        padding-left: 0;\n\n        & > span {\n            width: 100vw;\n            text-align: center;\n            margin-bottom: 10px;\n        }\n    }\n"]);return q=function(){return n},n}var J=h.a.main(q()),G=h.a.article(H()),K=h.a.aside(A());function V(n,e,t){if(n)return t([]),void e(!n);e(!n),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(n){var e=n.coords.latitude,a=n.coords.longitude;t({latitude:e,longitude:a})}),W):alert("Geolocaliza\xe7\xe3o n\xe3o \xe9 suportada nesse browser.")}function W(n){switch(n.code){case n.PERMISSION_DENIED:alert("Usu\xe1rio rejeitou a solicita\xe7\xe3o de Geolocaliza\xe7\xe3o");break;case n.POSITION_UNAVAILABLE:alert("Localiza\xe7\xe3o indispon\xedvel");break;case n.TIMEOUT:alert("O tempo da requisi\xe7\xe3o expirou");break;case n.UNKNOWN_ERROR:alert("Ocorreu um erro desconhecido")}}function Q(n){var e=n.userData,t=e.token,r=e.user,i=Object(o.useContext)(u).setMyPost,s=Object(o.useContext)(d),l=s.refresh,p=s.setRefresh,b=Object(o.useState)(""),j=Object(c.a)(b,2),h=j[0],x=j[1],f=Object(o.useState)(""),O=Object(c.a)(f,2),m=O[0],v=O[1],k=Object(o.useState)(!1),w=Object(c.a)(k,2),y=w[0],F=w[1],C=Object(o.useState)("Publicar"),S=Object(c.a)(C,2),z=S[0],I=S[1],E=Object(o.useState)(!1),U=Object(c.a)(E,2),T=U[0],L=U[1],D=Object(o.useState)({}),N=Object(c.a)(D,2),R=N[0],M=N[1];return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(G,{children:[Object(a.jsx)("img",{src:r.avatar}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"O que voc\xea tem para favoritar hoje?"}),Object(a.jsx)("input",{placeholder:"http://...",onChange:function(n){return x(n.target.value)},value:h}),Object(a.jsx)("textarea",{rows:"5",placeholder:"Comente sobre o link !",onChange:function(n){return v(n.target.value)},value:m}),Object(a.jsxs)("div",{children:[T?Object(a.jsxs)("span",{onClick:function(){return V(T,L,M)},children:[Object(a.jsx)(P.c,{className:"activated"}),Object(a.jsx)("p",{className:"activated",children:"Localiza\xe7\xe3o ativada"})]}):Object(a.jsxs)("span",{onClick:function(){return V(T,L,M)},children:[Object(a.jsx)(P.c,{}),Object(a.jsx)("p",{children:"Localiza\xe7\xe3o desativada"})]}),Object(a.jsx)("button",{onClick:function(){if(!y)if(""!==h){F(!0),I("Publicando...");var n=g.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/posts",{link:h,text:m,geolocation:R},{headers:{"User-Token":t}});n.then((function(){F(!1),I("Publicar"),x(""),v(""),i(!0),p(!l)})),n.catch((function(){alert("Houve um erro ao publicar o seu link"),F(!1),I("Publicar")}))}else alert("Preencha o link, por favor")},children:z})]})]})]})})}function X(){var n=Object(j.a)(["\n    width: 100%;\n    margin-bottom: 8px;\n\n    span, input {\n        margin: 10px 3px;\n        font-size: 18px;\n        font-weight: 700;\n    }\n    \n    input {\n        width: 87%;\n        outline: none;\n        border: none;\n        border-radius: 4px;\n        background: #FFF;\n        color: #171717;\n        padding: 5px 5px;\n    }\n    \n"]);return X=function(){return n},n}function Y(n){var e=n.userData.token,t=Object(o.useContext)(d),r=t.refresh,i=t.setRefresh,u=Object(o.useState)([]),l=Object(c.a)(u,2),p=l[0],j=l[1],h=Object(o.useState)(""),x=Object(c.a)(h,2),f=x[0],O=x[1],m=Object(b.f)();return Object(o.useEffect)((function(){var n=g.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/hashtags/trending",{headers:{"User-Token":e}});n.then((function(n){return j(n.data.hashtags)})),n.catch((function(){return window.location="http://localhost:9000"}))}),[]),Object(a.jsxs)(K,{children:[Object(a.jsx)("h1",{children:"trending"}),Object(a.jsxs)(Z,{onSubmit:function(n){n.preventDefault(),""===f?alert("Preencha o campo com um assunto"):(m.push({pathname:"/HashtagPage:".concat(f),state:f}),i(!r))},children:[Object(a.jsx)("span",{children:"#"}),Object(a.jsx)("input",{type:"search",placeholder:"Assunto",onChange:function(n){return O(n.target.value)},value:f})]}),Object(a.jsx)("div",{}),Object(a.jsx)("ul",{children:p.map((function(n){return Object(a.jsx)("li",{onClick:function(){i(!r)},children:Object(a.jsx)(s.b,{to:{pathname:"/HashtagPage:".concat(n.name),state:n.name},children:n.name})},n.id)}))})]})}var Z=h.a.form(X()),$=t(53),nn=t.n($),en=t(25);var tn=t(54),an=t(55);function on(){var n=Object(j.a)(["\n    margin-top: 10px;\n    display: flex;\n    border: 2px solid #C4C4C4;\n    border-radius: 11px;\n    overflow: hidden;\n    height: 155px;\n    cursor: pointer;\n\n    img {\n        height: 100%;\n        max-width: 462px;\n    }\n\n    h4, p {\n        padding: 10px;\n        word-break: break-word;\n        color: #B7B7B7;\n    }\n\n    p { \n        font-size:11px;\n    }\n\n    @media(max-width: 600px) {\n        height: 15vh;\n    }\n"]);return on=function(){return n},n}function rn(){var n=Object(j.a)(["\n    width:53px;\n    height:53px;\n    border-radius:50%;\n    margin-right: 15px;\n    cursor: pointer;\n"]);return rn=function(){return n},n}function cn(){var n=Object(j.a)(["\n    background: #151515;\n    display:flex;\n    margin: 10px 0vw;\n    padding: 10px 20px;\n    border-radius: 13px; \n    width: 46vw;\n    color: #FFF;\n    position: relative;\n    overflow-wrap: anywhere;\n\n    div > div {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    div > div > span {\n        display: flex;\n    }\n\n    h3 {\n        color: #FFF;\n        font-weight:300;\n        font-size:20px;\n        margin-bottom:10px;\n    }\n    \n    textarea {\n        display: block;\n        color: #4C4C4C;\n        background: white;\n        outline: none;\n        border: none;\n        border-radius: 3px;\n        resize:none;\n        font-family:inherit;\n        font-size:16px;\n        width:95%;\n    }\n\n    p {\n        color: #B7B7B7;\n    }\n\n    span {\n        color: #FFF;\n        font-weight: bold;\n        cursor: pointer;\n    }\n\n    svg {\n        cursor: pointer;\n        font-size: 26px;\n        color: #FFF;\n\n        &.likes {\n            position: absolute;\n            top: 80px;\n            left: 32px;\n        }\n\n        &.redColored {\n            color: #f0293d;\n        }\n\n        &.locationPin {\n            font-size: 20px;\n            margin-left: 10px;\n            margin-top: 1px;\n        }\n    }\n\n    strong {\n        position: absolute;\n        top: 115px;\n        left: 25px;\n    }\n\n    @media(max-width: 600px) {\n        width: 100vw;\n        border-radius: 2px;\n        margin: 30px 0vw;\n    }\n"]);return cn=function(){return n},n}var sn=h.a.div(cn()),un=h.a.img(rn()),dn=h.a.a(on()),ln=t(26);function pn(n,e,t){var a;if(n)switch(t.length){case 1:a="you liked the post";break;case 2:a="you and \n                ".concat(e===t[0]["user.username"]||e===t[0].username?t[1]["user.username"]||t[1].username:t[0]["user.username"]||t[0].username," \n                    liked the post");break;default:a="you, \n                ".concat(e===t[0]["user.username"]||e===t[0].username?t[1]["user.username"]||t[1].username:t[0]["user.username"]||t[0].username," \n                    , and ").concat(t.length-2," others liked the post")}else switch(t.length){case 0:a="no likes yet";break;case 1:a="".concat(t[0]["user.username"]||t[0].username," liked the post");break;case 2:a="".concat(t[0]["user.username"]||t[0].username," and ").concat(t[1]["user.username"]||e===t[0].username," liked the post");break;default:a="".concat(t[0]["user.username"]||t[0].username,", ").concat(t[1]["user.username"]||t[0].username," , and ").concat(t.length-2," others liked the post")}return a}function bn(n){var e=Object(o.useContext)(u).userInfo,t=Object(o.useContext)(d),r=t.refresh,i=t.setRefresh,s=e.data,l=s.user,p=l.id,b=l.username,j=Object(o.useState)(0),h=Object(c.a)(j,2),x=h[0],f=h[1],O=Object(o.useState)(!1),m=Object(c.a)(O,2),v=m[0],k=m[1],w=n.postId,y=n.postUsername,F=n.userId,C=n.postLikes,S={id:F,username:y};function z(n){var e;"like"===n?(e=g.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/posts/".concat(w,"/like"),S,{headers:{"User-Token":s.token}}),f(x+1)):(e=g.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/posts/".concat(w,"/dislike"),S,{headers:{"User-Token":s.token}}),f(x-1)),e.then((function(){return i(!r)})),k(!v)}return Object(o.useEffect)((function(){C.forEach((function(n){p!==n.userId&&p!==n.id||k(!0)}))}),[]),Object(a.jsx)(a.Fragment,{children:v?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P.a,{onClick:function(){return z("dislike")},className:"redColored likes","data-tip":pn(v,b,C),onMouseOver:function(){ln.a.show()}}),Object(a.jsx)(ln.a,{}),Object(a.jsxs)("strong",{children:[C.length+x," likes"]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P.b,{onClick:function(){return z("like")},className:"likes","data-tip":pn(v,b,C),onMouseOver:function(){ln.a.show()}}),Object(a.jsx)(ln.a,{}),Object(a.jsxs)("strong",{children:[C.length+x," likes"]})]})})}function jn(n){var e=n.postText,t=n.setEdit,r=n.postId,i=n.setPostText,s=Object(o.useContext)(u).userInfo,l=Object(o.useContext)(d),p=l.refresh,b=l.setRefresh,j=s.data,h=Object(o.useState)(e),x=Object(c.a)(h,2),f=x[0],O=x[1],m=Object(o.useState)(!1),v=Object(c.a)(m,2),k=v[0],w=v[1];return Object(a.jsx)("textarea",{value:f,onChange:function(n){return O(n.target.value)},autoFocus:!0,onFocus:function(n){return O(n.target.defaultValue+" ")},onKeyDown:function(n){return function(n){if(!k&&(27===n.keyCode&&t(!1),13===n.keyCode)){n.preventDefault();var e=g.a.put("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/posts/".concat(r),{text:f.trim()},{headers:{"User-Token":j.token}});w(!0),e.then((function(){w(!1),t(!1),i(f.trim()),b(!p)})),e.catch((function(){w(!1),alert("N\xe3o foi poss\xedvel salvar as altera\xe7\xf5es")}))}}(n)},disabled:k})}var hn=t(19),xn=t.n(hn);function fn(){var n=Object(j.a)(["\n    width: 20%;\n    margin: -20px 40%;\n\n    @media (max-width: 600px) {\n        width: 60vw;\n    }\n"]);return fn=function(){return n},n}function On(){var n=Object(j.a)(["\n    width: 35vw;\n    height: 220px;\n    background-color: #333333;\n    color: #FFF;\n    text-align: center;\n\n    h4 {\n        font-size: 40px;\n        font-weight: bold;\n        padding: 30px 20px;\n    }\n\n    button {\n        border: none;\n        border-radius: 3px;\n        padding: 10px 5px;\n        outline-style: none;\n        font-size: 16px;\n        font-weight: bold;\n        width: 20%;\n        margin-right: 20px;\n        margin-top: 10px;\n    }\n"]);return On=function(){return n},n}var mn={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#333333",borderRadius:"50px",fontSize:"40px",fontWeight:"bold",padding:"30px 20px",color:"#FFF"}},gn=h.a.div(On()),vn=h.a.img(fn()),kn={width:"800px",height:"300px",marginTop:"20px"};function wn(n){n(!0)}function yn(n){n(!1)}function Fn(n){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),r=t[0],i=t[1],s=n.postId,d=Object(o.useState)(!1),l=Object(c.a)(d,2),p=l[0],b=l[1],j=Object(o.useContext)(u).userInfo,h=Object(o.useContext)(u),x=h.refresh,f=h.setRefresh,O=j.data;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P.e,{onClick:function(){return wn(i)},className:"redColored"}),Object(a.jsx)(xn.a,{isOpen:r,onRequestClose:function(){return yn(i)},style:mn,contentLabel:"deletion confirmation",children:Object(a.jsxs)(gn,{children:[Object(a.jsx)("h4",{children:"Tem certeza que deseja excluir essa publica\xe7\xe3o?"}),p?Object(a.jsx)(vn,{src:"https://pa1.narvii.com/6534/a6fc552442c170aedda8e27af187b901602f7634_00.gif"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){return yn(i)},children:"Cancelar"}),Object(a.jsx)("button",{onClick:function(){return function(){b(!0);var n=g.a.delete("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/posts/".concat(s),{headers:{"User-Token":O.token}});n.then((function(){i(!1),f(!x),b(!1)})),n.catch((function(){i(!1),alert("Houve um erro ao excluir o post"),b(!1)}))}()},children:"Excluir"})]})]})})]})}xn.a.setAppElement(document.getElementById("root"));var Cn=t(34);function Sn(n){var e,t,r=n.username,i=Object(o.useState)(!1),s=Object(c.a)(i,2),u=s[0],d=s[1];if(void 0===n.geolocation)return null;e=n.geolocation.latitude,t=n.geolocation.longitude;var l={lat:parseFloat(e),lng:parseFloat(t)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(P.c,{className:"locationPin",onClick:function(){return wn(d)}}),Object(a.jsx)(xn.a,{isOpen:u,onRequestClose:function(){return yn(d)},style:mn,contentLabel:"deletion confirmation",children:Object(a.jsxs)(Cn.b,{googleMapsApiKey:"AIzaSyDOztJhF_njfFybGT7LPA_eQszwINkqofI",children:[Object(a.jsxs)("h4",{children:[r,"'s location"]}),Object(a.jsx)(Cn.a,{mapContainerStyle:kn,center:l,zoom:14,mapTypeId:"7259de476ea759fa",children:Object(a.jsx)(P.c,{})})]})})]})}function zn(n){var e=Object(o.useContext)(u).userInfo.data.user.id,t=n.imgSrc,r=n.link,i=n.linkDescription,d=n.linkTitle,l=n.text,p=n.user,j=n.postId,h=n.postLikes,x=n.geolocation,f=p.id,O=p.username,m=p.avatar,g=Object(o.useState)(l),v=Object(c.a)(g,2),k=v[0],w=v[1],y=Object(o.useState)(!1),F=Object(c.a)(y,2),C=F[0],S=F[1],z=Object(b.f)();return Object(a.jsxs)(sn,{children:[Object(a.jsx)(s.b,{to:{pathname:"/UserPosts:".concat(f),state:{id:f,username:O}},children:Object(a.jsx)(un,{src:m})}),Object(a.jsx)(bn,{postId:j,username:O,userId:f,postLikes:h}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(s.b,{to:{pathname:"/UserPosts:".concat(f),state:{id:f,username:O}},children:Object(a.jsx)("h3",{children:O})}),Object(a.jsx)(Sn,{geolocation:x,username:O})]}),Object(a.jsx)("div",{children:e===f?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(an.a,{onClick:function(){return S(!C)}}),Object(a.jsx)(Fn,{postId:j})]}):""})]}),C?Object(a.jsx)(jn,{postText:k,setEdit:S,postId:j,setPostText:w}):Object(a.jsx)("p",{children:Object(a.jsx)(tn.a,{onHashtagClick:function(n){return function(n){n=n.slice(1),z.push("/HashtagPage:".concat(n),n)}(n)},children:k})}),Object(a.jsxs)(dn,{href:r,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h4",{children:d}),Object(a.jsx)("p",{children:i}),Object(a.jsx)("p",{children:r})]}),Object(a.jsx)("img",{src:t})]})]})]})}function In(){var n=Object(j.a)(["\n    width: 15vw;\n    margin: 0 20vw;\n\n    @media (max-width: 600px) {\n        width: 60vw;\n    }\n"]);return In=function(){return n},n}function Pn(){var n=Object(j.a)(["\n    text-align: center;\n    font-size: 56px;\n    color: #FFF;\n"]);return Pn=function(){return n},n}xn.a.setAppElement(document.getElementById("root"));var En=h.a.h4(Pn()),Un=h.a.img(In());function Tn(n){var e=Object(o.useContext)(u),t=e.myPost,r=e.setMyPost,i=Object(o.useContext)(d),s=i.refresh,l=i.setRefresh,p=n.userData,b=n.id,j=n.hashtag,h=n.liked,x=Object(o.useState)([]),f=Object(c.a)(x,2),O=f[0],m=f[1],v=Object(o.useState)(!0),k=Object(c.a)(v,2),w=k[0],y=k[1],F=Object(o.useState)(!1),C=Object(c.a)(F,2),S=C[0],z=C[1],I=[],P=Object(o.useState)(0),E=Object(c.a)(P,2),U=E[0],T=E[1],L=Object(o.useState)(!1),D=Object(c.a)(L,2),N=D[0],R=D[1];return Object(o.useEffect)((function(){var n=function(n,e,t,a,o){return null===n?g.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/posts?offset=".concat(o,"&limit=11"),{headers:{"User-Token":a.token}}):n&&e?g.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/posts/liked",{headers:{"User-Token":a.token}}):t?g.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/hashtags/".concat(t,"/posts?offset=").concat(o,"&limit=11"),{headers:{"User-Token":a.token}}):g.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/users/".concat(n,"/posts?offset=").concat(o,"&limit=11"),{headers:{"User-Token":a.token}})}(b,h,j,p,U);n.then((function(n){y(!1),function(n,e,t,a,o,r){var i=[],c={id:null};n.data.posts.forEach((function(n,e){e<10?i.push(n):c=n})),i=i.filter((function(n){return!t.find((function(e){return e.id===n.id}))})),a?(e([].concat(Object(en.a)(i),Object(en.a)(t))),o(!1)):e([].concat(Object(en.a)(t),Object(en.a)(i))),null!==c.id&&r(!0)}(n,m,O,t,r,R)})),n.catch((function(){return z(!0)}))}),[s]),function(n,e){0!==n.length&&n.map((function(n){e.push(Object(a.jsx)(zn,{imgSrc:n.linkImage,link:n.link,linkDescription:n.linkDescription,linkTitle:n.linkTitle,text:n.text,user:n.user,postId:n.id,postLikes:n.likes,geolocation:n.geolocation},n.id))}))}(O,I),Object(a.jsx)(a.Fragment,{children:w?Object(a.jsx)(Un,{src:"https://pa1.narvii.com/6534/a6fc552442c170aedda8e27af187b901602f7634_00.gif"}):S?Object(a.jsx)(En,{children:"Houve uma falha ao obter os posts, por favor atualize a p\xe1gina"}):0===O.length?Object(a.jsx)(En,{children:"Nenhum post encontrado"}):Object(a.jsx)(nn.a,{loadMore:function(){O.length<10||(R(!1),T(U+10),l(!s))},hasMore:N,loader:Object(a.jsx)(Un,{src:"https://pa1.narvii.com/6534/a6fc552442c170aedda8e27af187b901602f7634_00.gif"},0),children:I})})}function Ln(){var n=Object(o.useContext)(u).userInfo.data;void 0===n&&(window.location="http://localhost:9000");var e=n.user,t=e.avatar,r=e.id;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{avatar:t,id:r}),Object(a.jsxs)(J,{children:[Object(a.jsx)("span",{children:Object(a.jsx)("h1",{children:"timeline"})}),Object(a.jsx)(Q,{userData:n}),Object(a.jsx)(Y,{userData:n}),Object(a.jsx)(Tn,{userData:n,id:null})]})]})}function Dn(n,e,t,a,o,r){var i;n||((i=o?g.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/users/".concat(t,"/unfollow"),t,{headers:{"User-Token":a.token}}):g.a.post("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/users/".concat(t,"/follow"),t,{headers:{"User-Token":a.token}})).then((function(){r(!o),e(!1)})),i.catch((function(){alert("N\xe3o foi poss\xedvel realizar a opera\xe7\xe3o"),e(!1)})))}function Nn(){var n=Object(o.useContext)(u).userInfo.data,e=Object(b.g)().state,t=e.id,r=e.username,i=Object(o.useState)(!1),s=Object(c.a)(i,2),d=s[0],l=s[1],p=Object(o.useState)(!1),j=Object(c.a)(p,2),h=j[0],x=j[1],f=n.user.id,O=n.user.avatar;return void 0===n&&(window.location="http://localhost:9000"),Object(o.useEffect)((function(){g.a.get("https://mock-api.bootcamp.respondeai.com.br/api/v1/linkr/users/follows",{headers:{"User-Token":n.token}}).then((function(n){n.data.users.forEach((function(n){n.id===t&&l(!0)}))}))}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{avatar:O,id:f}),Object(a.jsxs)(J,{children:[t===f?Object(a.jsx)("span",{children:Object(a.jsx)("h1",{children:"My posts"})}):Object(a.jsxs)("span",{children:[Object(a.jsxs)("h1",{children:[r,"'s posts"]}),d?Object(a.jsx)("button",{onClick:function(){return Dn(h,x,t,n,d,l)},className:"unfollow",children:"unfollow"}):Object(a.jsx)("button",{onClick:function(){return Dn(h,x,t,n,d,l)},children:"follow"})]}),Object(a.jsx)(Y,{userData:n}),Object(a.jsx)(Tn,{userData:n,id:t})]})]})}function Rn(){var n=Object(o.useContext)(u).userInfo.data,e=Object(b.g)().state;void 0===n&&(window.location="http://localhost:9000");var t=n.user,r=t.avatar,i=t.id;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{avatar:r,id:i}),Object(a.jsxs)(J,{children:[Object(a.jsx)("span",{children:Object(a.jsxs)("h1",{children:["# ",e]})}),Object(a.jsx)(Y,{userData:n}),Object(a.jsx)(Tn,{userData:n,hashtag:e,id:i})]})]})}function Mn(){var n=Object(o.useContext)(u).userInfo.data,e=Object(b.g)().state.id;void 0===n&&(window.location="http://localhost:9000");var t=n.user.id,r=n.user.avatar;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{avatar:r,id:t}),Object(a.jsxs)(J,{children:[Object(a.jsx)("span",{children:Object(a.jsx)("h1",{children:"My Likes"})}),Object(a.jsx)(Y,{userData:n}),Object(a.jsx)(Tn,{userData:n,id:e,liked:!0})]})]})}var Bn=Object(b.h)((function(n){var e=n.location;return Object(a.jsx)(f,{children:Object(a.jsx)(l.a,{className:"transition-group",children:Object(a.jsx)(p.a,{timeout:{enter:300,exit:300},classNames:"fade",unmountOnExit:!0,children:Object(a.jsx)("section",{className:"route-section",children:Object(a.jsxs)(b.c,{children:[Object(a.jsx)(b.a,{path:"/Signup",component:z}),Object(a.jsx)(b.a,{path:"/Timeline",component:Ln}),Object(a.jsx)(b.a,{path:"/User:id",component:Nn}),Object(a.jsx)(b.a,{path:"/HashtagPage:hashtag",component:Rn}),Object(a.jsx)(b.a,{path:"/my-likes",component:Mn}),Object(a.jsx)(b.a,{path:"/",component:S})]})})},e.key)})})}));function _n(){var n=void 0!==localStorage.data?JSON.parse(localStorage.data):{},e=Object(o.useState)(n),t=Object(c.a)(e,2),r=t[0],i=t[1],l=Object(o.useState)(!1),p=Object(c.a)(l,2),b=p[0],j=p[1],h=Object(o.useState)(!1),x=Object(c.a)(h,2),f=x[0],O=x[1];return Object(a.jsx)(u.Provider,{value:{userInfo:r,setUserInfo:i,myPost:f,setMyPost:O},children:Object(a.jsx)(d.Provider,{value:{refresh:b,setRefresh:j},children:Object(a.jsx)(s.a,{children:Object(a.jsx)(Bn,{})})})})}var An=document.querySelector("#root");i.a.render(Object(a.jsx)(_n,{}),An)}},[[95,1,2]]]);
//# sourceMappingURL=main.dce15a11.chunk.js.map